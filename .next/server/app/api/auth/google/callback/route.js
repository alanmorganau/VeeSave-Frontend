"use strict";(()=>{var e={};e.id=688,e.ids=[688],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5260:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>u,routeModule:()=>l,serverHooks:()=>d,staticGenerationAsyncStorage:()=>p});var o={};a.r(o),a.d(o,{GET:()=>c});var r=a(9303),s=a(8716),n=a(670),i=a(7070);async function c(e){let t=new URL(e.url).searchParams.get("code");if(!t)return i.NextResponse.json({error:"Missing ?code"},{status:400});let a=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:process.env.GOOGLE_CLIENT_ID,client_secret:process.env.GOOGLE_CLIENT_SECRET,redirect_uri:"http://localhost:3000/api/auth/google/callback",grant_type:"authorization_code",code:t})}),o=await a.json(),r=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:"Bearer "+o.access_token}});return console.log("GOOGLE PROFILE:",await r.json()),i.NextResponse.redirect("http://localhost:3000/login?success=google")}let l=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/auth/google/callback/route",pathname:"/api/auth/google/callback",filename:"route",bundlePath:"app/api/auth/google/callback/route"},resolvedPagePath:"D:\\VeeSave\\frontend\\app\\api\\auth\\google\\callback\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:u,staticGenerationAsyncStorage:p,serverHooks:d}=l,h="/api/auth/google/callback/route";function g(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:p})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),o=t.X(0,[948,972],()=>a(5260));module.exports=o})();